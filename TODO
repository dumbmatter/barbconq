remove getTile?

use coordsToPixels in MapUI.render

MapUI.validCoords should be Map.validCoords
  any others wrongly in MapUI?

fortify
  defensive bonus
  healing

sentry

fog of war
  states
    never seen yet: completely black
    saw before, but not currently in field of vision: terrain+improvements appear as last known, with shadow over it
      need to somehow cache last viewed tile state for every tile. copy of map, i guess
    in field of vision: visible

right click to move
  needs to handle enemy units - can't cross

stacked unit actions and UI
  make sure UI fits under bottom-text

typescript live compile

Create a basic unit, handle its basic actions

"End turn early" green button and "end turn" red button
  if end turn early, make sure to move units on path towards targetCoords first!
  is green/red always in sync with "begin next turn" blinker?

combat
  Combat(attacker : Unit, defender : Unit) to handle just the battle itself
  also need to handle things like...
    get list of enemies on tile being moved to
    pick enemy with highest defense

Make randomly generated map into a pangaea facsimile
  how do civ4 maps do it?

barb AI

minify assets
  have a "make barbconq" that puts all the right options in a ready-to-go barbconq folder

PLAN TO GET INITIAL PUBLICITY: BarbarianBattle.com
  SEE EMAIL FOR BETTER IDEA
  "Barbarian Battle - web-based port of Civ4's combat system"
  make a mode with just your units and barbarian units and battle
  scouts, warriors, archers, chariots, axemen, spearmen
  roads (randomly generate a few)
  forts
  "From the makers of Basketball GM, a free single-player basketball simulation game"
  Help section: explain units, movement, combat
  Make desktop and cordova versions, put ads in it

UI POLISH
  center minimap on its canvas when it is not the correct aspect ratio
  mapUI.goToCoords should be smooth
  scroll wheel zoom by increasing TILE_SIZE

---

Base object types:
  map (only one of these, containing tile properties at each coordinate)
  unit (each civ can have many of these, and there are many different types)
  city (each civ can have many of these)

Data
  keep it all in memory. write to indexeddb every turn

TypeScript
  Reevaluate all uses of "any"

# Far future notes

Import civ4 maps

2d UI in HTML5
  read about how to do this, in general
  take inspiration from civ5 "strategic view"
  how to make it wrap at sides?
  libraries
    threejs?
      frustrum culling http://www.html5gamedevs.com/topic/930-best-practice-for-large-2d-world-in-threejs/
    pixi.js?
    IvanK?
      http://p.brm.sk/being/
    http://www.reddit.com/r/html5/comments/1zw8yl/canvas_newb_seeking_some_pointers_about_making_a/
    PROBABLY BEST:
      either threejs or raw webgl. try threejs first, looks easier

Allow lots of moddability, game modes
  look at what's in civ4